<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="I&apos;m A man who constantly to pursue self-breakthrough and not satisfy current situation">
<meta name="keywords" content="Artificial Intelligence">
<meta property="og:type" content="website">
<meta property="og:title" content="Pandora&#39;s box">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Pandora&#39;s box">
<meta property="og:description" content="I&apos;m A man who constantly to pursue self-breakthrough and not satisfy current situation">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pandora&#39;s box">
<meta name="twitter:description" content="I&apos;m A man who constantly to pursue self-breakthrough and not satisfy current situation">






  <link rel="canonical" href="http://yoursite.com/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Pandora's box</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pandora's box</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Supo's Blogs</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/22/sed命令总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/22/sed命令总结/" itemprop="url">
                  sed命令详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-22 22:39:33" itemprop="dateCreated datePublished" datetime="2019-10-22T22:39:33+08:00">2019-10-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-23 00:51:25" itemprop="dateModified" datetime="2019-10-23T00:51:25+08:00">2019-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="sed命令详解"><a href="#sed命令详解" class="headerlink" title="sed命令详解"></a>sed命令详解</h2><p>sed 是Stream EDitor的缩写，是一款古老的流编辑器，与之相对应的是交互式编辑器（如vim）；流编辑器是按行读取的也称为行编辑器（sed, awk），相对应的概念是全文本编辑器。</p>
<h3 id="sed参数解释"><a href="#sed参数解释" class="headerlink" title="sed参数解释"></a>sed参数解释</h3><p>sed常用的参数：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>英文</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>quiet</td>
<td>抑制模式空间的自动输出</td>
</tr>
<tr>
<td>-e</td>
<td>script</td>
<td>增加执行脚本</td>
</tr>
<tr>
<td>-f</td>
<td>script_file</td>
<td>执行脚本从文件中读取</td>
</tr>
<tr>
<td>-i</td>
<td>in-place</td>
<td>替换原文件</td>
</tr>
<tr>
<td>-r</td>
<td>regexp</td>
<td>支持正则</td>
</tr>
</tbody>
</table>
<p>sed脚本命令解释</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>英文</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>search</td>
<td>查找</td>
</tr>
<tr>
<td>g</td>
<td>global</td>
<td>全局替换</td>
</tr>
<tr>
<td>p</td>
<td>print</td>
<td>打印输出到模式空间</td>
</tr>
<tr>
<td>P</td>
<td>print</td>
<td>打印到第一个换行符</td>
</tr>
<tr>
<td>i</td>
<td>insert</td>
<td>插入</td>
</tr>
<tr>
<td>a</td>
<td>append</td>
<td>附加文本</td>
</tr>
<tr>
<td>d</td>
<td>delete</td>
<td>删除模式空间</td>
</tr>
<tr>
<td>D</td>
<td>delete</td>
<td>如果模式空间为空读取新的一行，如果不为空则删除第一行，不读下一行，直接进入下一个循环。</td>
</tr>
<tr>
<td>h/H</td>
<td>hold</td>
<td>将模式空间内容输出到保持空间</td>
</tr>
<tr>
<td>g/G</td>
<td>get</td>
<td>将保持空间内容返回模式空间，大写G追加；小写g覆盖。</td>
</tr>
<tr>
<td>x</td>
<td>exchange</td>
<td>交换模式空间与保持空间</td>
</tr>
<tr>
<td>n</td>
<td>next</td>
<td>读取下一行到模式空间，覆盖模式</td>
</tr>
<tr>
<td>N</td>
<td>next</td>
<td>读取下一行到模式空间，追加模式</td>
</tr>
</tbody>
</table>
<h3 id="sed搜索命令"><a href="#sed搜索命令" class="headerlink" title="sed搜索命令"></a>sed搜索命令</h3><table>
<thead>
<tr>
<th>命令示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>s/old/new/</code></td>
<td>只匹配每一行第一个，做替换</td>
</tr>
<tr>
<td><code>s/old/new/g</code></td>
<td>全局替换</td>
</tr>
<tr>
<td><code>s/old/new/2</code></td>
<td>匹配每一行第二次出现的字符，做替换</td>
</tr>
<tr>
<td><code>-n &#39;s/old/new/p&#39;</code></td>
<td>替换成功的行打印输出</td>
</tr>
<tr>
<td><code>/正表达式/s/old/new/g</code></td>
<td>复合正则表达式的行替换</td>
</tr>
<tr>
<td><code>行号s/old/new/</code></td>
<td>指定行的替换</td>
</tr>
<tr>
<td><code>1,$s/old/new/</code></td>
<td>第一行到最后一行的搜索替换</td>
</tr>
<tr>
<td><code>/正则表达式/1,$s/old/new/</code></td>
<td>第一行到最后一行满足正则表达式的替换</td>
</tr>
<tr>
<td><code>-r &#39;s/(a.*b)&#39;/\1:\1</code></td>
<td>引用分组与回调</td>
</tr>
</tbody>
</table>
<h3 id="sed空间"><a href="#sed空间" class="headerlink" title="sed空间"></a>sed空间</h3><p><img src="/2019/10/22/sed命令总结/1571762888018.png" alt="1571762888018"></p>
<h3 id="sed多行模式"><a href="#sed多行模式" class="headerlink" title="sed多行模式"></a>sed多行模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'N; s/old/new/; P; D'</span> file</span><br></pre></td></tr></table></figure>
<p>每次处理 1，2行，2，3行…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'N; N; s/old/new/; P; D'</span> file</span><br></pre></td></tr></table></figure>
<p>每次处理 123行，234行…</p>
<h3 id="sed命令示例"><a href="#sed命令示例" class="headerlink" title="sed命令示例"></a>sed命令示例</h3><h3 id="查看奇-偶数行"><a href="#查看奇-偶数行" class="headerlink" title="查看奇/偶数行"></a>查看奇/偶数行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'n;d'</span> staff.csv       <span class="comment"># 奇数行</span></span><br><span class="line">sed <span class="string">'1d;n;d'</span> staff.csv    <span class="comment"># 偶数行</span></span><br></pre></td></tr></table></figure>
<p>第一条命令中的<code>n;</code>表示输出当前行并立即读取下一行。第二条命令先把第一行记录删除，于是再输出的奇数行就自然变成原来的偶数行了。</p>
<h3 id="从单行中查找"><a href="#从单行中查找" class="headerlink" title="从单行中查找"></a>从单行中查找</h3><p>比如想从<strong>I am 18 years old</strong>里查找18这个年龄，可以这么做：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"I am 18 years old"</span> | sed -n <span class="string">"s/I am \(.*\) years old/\1/p"</span></span><br></pre></td></tr></table></figure>
<p>这里<code>\1</code>代表第一个被匹配上的内容也就是<code>\(.*\)</code>。发挥想象力：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"I am 18 years old"</span> | sed -n <span class="string">"s/I am \(.*\) \(.*\) old/\2: \1/p"</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/13/C-中const总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/13/C-中const总结/" itemprop="url">
                  C++中const总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-13 22:02:12" itemprop="dateCreated datePublished" datetime="2019-10-13T22:02:12+08:00">2019-10-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-23 00:39:29" itemprop="dateModified" datetime="2019-10-23T00:39:29+08:00">2019-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="c-中const用法总结"><a href="#c-中const用法总结" class="headerlink" title="c++中const用法总结"></a>c++中const用法总结</h2><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>const在c++中是一种限定符（qualifier），用来修饰变量类型、形参类型、函数、指针、类等一系列用法，用的时候不是弄得很蒙，比如指向常量的指针（pointer to const）与常量指针（const pointer），因此在此文中区分这些用法，以及限定符的作用是什么。</p>
<h3 id="基本含义"><a href="#基本含义" class="headerlink" title="基本含义"></a>基本含义</h3><p>const 修饰意为恒定的，不变的，当修饰变量的时候，意思是该变量在创建后是不可修改的，因此常量的声明和定义是在一条语句内完成的。常量是指本身不可修改，但可以被拷贝，去为其他变量赋值。通常常量在编译的时候还会被字面量替代。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bufferSize = <span class="number">512</span>; <span class="comment">// ok</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bufferSize; <span class="comment">//error</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> i = getSize();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a = i; <span class="comment">// ok copy const value to a variable</span></span><br></pre></td></tr></table></figure>
<h3 id="常量引用"><a href="#常量引用" class="headerlink" title="常量引用"></a>常量引用</h3><p>想要引用常量，必须使用常量引用（reference to const）,否则可能会改变原值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;b = a; <span class="comment">//ok,both reference and underlying object are const</span></span><br><span class="line"><span class="keyword">int</span> &amp;c = a; <span class="comment">//error unconst reference to a const object</span></span><br></pre></td></tr></table></figure>
<p>常量引用的初始化可以是一个非常量、常量、字面量、表达式，常量只能给常量引用初始化。常量引用后面的真实引用值不一定是常量。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r1 = i; <span class="comment">//ok</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r2 = <span class="number">3</span>; <span class="comment">//ok</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r3 = r1*<span class="number">2</span>; <span class="comment">//ok</span></span><br><span class="line"><span class="keyword">int</span> &amp;r4 = <span class="number">3</span>; <span class="comment">//error</span></span><br></pre></td></tr></table></figure>
<h3 id="常量指针与常指针"><a href="#常量指针与常指针" class="headerlink" title="常量指针与常指针"></a>常量指针与常指针</h3><p>常量指针与常量引用类似，不可以通过该引用或指针修改背后的值，但背后的值是不是常量是不确定的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">double</span> *p1 = &amp;pi; <span class="comment">//error</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> *ptr = &amp;pi; <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> dval = <span class="number">3.14</span>; </span><br><span class="line">ptr = &amp;dval; <span class="comment">//ok but cannt change dval through ptr</span></span><br></pre></td></tr></table></figure>
<p>常指针是指该指针一旦绑定一个地址，就不可以再改变了，所以一定要在声明的时候初始化。做法是再*后面加const修饰符。</p>
<ul>
<li>常量指针是指不能改变指向的对象</li>
<li>常指针是指不能改变指向的对象</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *<span class="keyword">const</span> b = &amp;a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> c = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *<span class="keyword">const</span> cptr = &amp;c;</span><br></pre></td></tr></table></figure>
<h3 id="常量表达式"><a href="#常量表达式" class="headerlink" title="常量表达式"></a>常量表达式</h3><p>常量表达式(constant expression)是值不可以改变而且在编译的时候评估该值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> max_files = <span class="number">20</span>; <span class="comment">// max_files is constant expression</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> limit = max_file + <span class="number">1</span>; <span class="comment">// limit is constant expression</span></span><br><span class="line"><span class="keyword">int</span> staff = <span class="number">20</span>; <span class="comment">// staff is not constexpr</span></span><br><span class="line"><span class="keyword">const</span> in sz = get_size() <span class="comment">//sz is not constexpr</span></span><br></pre></td></tr></table></figure>
<p>可以用constexpr 声明一个变量是常量表达式，这样再编译的时候就会展开表达式。</p>
<h3 id="类成员函数后面加const"><a href="#类成员函数后面加const" class="headerlink" title="类成员函数后面加const"></a>类成员函数后面加const</h3><p>表示const对象只能调用带const标记的函数，const函数可以重载。<br>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">    A() = <span class="keyword">default</span>;</span><br><span class="line">    A(<span class="keyword">int</span> _a, <span class="keyword">int</span> _b): a(_a),b(_b) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"call constructor"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_a</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"call const get_a"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_a</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"call get_a"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_b</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> A a;</span><br><span class="line">    <span class="function">A <span class="title">b</span><span class="params">(<span class="number">1</span> ,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a.get_a() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">//ok </span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; a.get_b() &lt;&lt; std::endl; //error</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; b.get_a() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">//ok</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; b.get_b() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">//ok</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/google开源项目风格指南-C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/09/google开源项目风格指南-C/" itemprop="url">
                  google开源项目风格指南-C++
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-09 23:25:53" itemprop="dateCreated datePublished" datetime="2019-10-09T23:25:53+08:00">2019-10-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-23 00:40:03" itemprop="dateModified" datetime="2019-10-23T00:40:03+08:00">2019-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="google开源项目风格指南-C"><a href="#google开源项目风格指南-C" class="headerlink" title="google开源项目风格指南-C++"></a>google开源项目风格指南-C++</h2><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>自从大学开始接触c++语言（平时写的都是类C代码），断断续续的已经有7、8年过去了，但是，始终没有规范的在工程上使用C++。现在的工作主要使用python语言，更多的是关注算法，而没有关注语言本身。但是python项目也给我带来了工程经验，经验之一就是，代码是写给别人看的，大家遵守共同的编程规范很重要。所谓的编程规范，也可以称为编程风格，一开始会让新手感觉是桎梏，但随着解了越来越多的bug，写了越来越多的代码，也体会到了，编程规范的而重要性，编程规范不但是一种风格，而且是避免埋坑、减少bug的重要措施。如果大家写的代码一致性高，那阅读起来也就方便多了。</p>
<p>在网上搜索了google的编程规范，应该是值得一读的，因为这些规范都是大厂内的有丰富工程经验的人总结出来的精华。因此，准备认真研读，并且，测试为什么这样规定。</p>
<h3 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h3><p>一般来讲，每个cpp文件都应该对应一个.h文件（除了只包含main函数的文件），这是为了提升可读性与可维护性。一般头文件要遵守以下规范：</p>
<ul>
<li>头文件要加入#define保护，避免重复编译时导入；</li>
<li>头文件只能声明变量，不能定义变量，全局的变量不可以声明，因为全局变量在声明时会初始化一个默认值。两次包含给头文件，编译时，会报重复定义的错误；</li>
<li>头文件的包含顺序为自身头文件、c标准库、c++标准库、其他项目头文件、自身项目其他头文件；</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 为了防止被多重导入，header文件要有#define保护 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> HEADER_A_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HEADER_A_H 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 头文件里面不要定义任何变量，也不声明全局变量，全局变量会在声明时初始化为默认值</span></span><br><span class="line"><span class="comment">// C++原则-唯一定义原则(One Definition Rule), 但一个变量可以声明多次</span></span><br><span class="line"><span class="comment">//int i; //error 两次被引入会错误</span></span><br><span class="line"><span class="comment">//int j=0; //error 不能定义变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// ok, declear function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ok , declear a class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    A(<span class="keyword">int</span> a, <span class="keyword">int</span> b);</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* HEADER_A_H */</span></span></span><br></pre></td></tr></table></figure>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><h4 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h4><p>命名空间（namespace）可以把全局作用域细分为具名独立的作用域，使用命名空间，可以避免一些通用命名的冲突。但两个不同命名空间的相同变量名称放在一起会有迷惑性，而且不得不引用多层嵌套命名空间内的定义会使代码变得冗长。</p>
<p>命名空间的两个特殊特性：</p>
<ul>
<li><p>内联命名空间：内敛命名空间会自动把标识符放在外部命名空间。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> foo1&#123;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">namespace</span> foo2 &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> c = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">//foo2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a * b * c &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// foo1</span></span><br><span class="line"></span><br><span class="line">foo1::c 与 foo1::foo2::c一致</span><br></pre></td></tr></table></figure>
</li>
<li><p>匿名命名空间：编译器会给匿名命名空间生成一个独立不可见标识，导致，其他文件不能引用匿名命名空间内的变量，两个不同匿名命名空间的相同定义不会冲突（两个不同cpp文件）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> &#123;</span><br><span class="line">   ... </span><br><span class="line">&#125; <span class="comment">//namespace</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>规范：</p>
<ul>
<li>禁止使用内联命名空间，在大型版本控制里面使用</li>
<li>鼓励在<code>.cc</code>文件中使用匿名命名空间或static声明</li>
<li>不能在header里面定义匿名命名空间，会违背唯一定义原则</li>
<li>不能使用using指示命名空间</li>
<li>不要在std里面声明任何任何东西，否则会导致不可移植</li>
<li>不要在头文件中使用命名空间别名</li>
</ul>
<h4 id="非成员函数、静态成员函数、全局函数"><a href="#非成员函数、静态成员函数、全局函数" class="headerlink" title="非成员函数、静态成员函数、全局函数"></a>非成员函数、静态成员函数、全局函数</h4><p> 使用静态成员函数或命名空间内的非成员函数, 尽量不要用裸的全局函数. 将一系列函数直接置于命名空间中，不要用类的静态方法模拟出命名空间的效果，类的静态方法应当和类的实例或静态数据紧密相关. </p>
<h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><p>将函数的变量尽可能置于最小的作用域内，并在变量声明时进行初始化。</p>
<p>不要在循环内部初始化对象，否则每次调用构造函数与析构函数导致执行效率很低</p>
<h4 id="静态与全局变量"><a href="#静态与全局变量" class="headerlink" title="静态与全局变量"></a>静态与全局变量</h4><p>禁止定义静态存储周期的非POD(Plain Old Data)，POD数据如int、char、float，多编译单元中的静态变量执行的构造与析构顺序时未明确的。也不使用vector和string类型的静态变量。</p>
<h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/06/c-中类的相关概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/06/c-中类的相关概念/" itemprop="url">
                  c++中类的相关概念
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-06 20:39:37" itemprop="dateCreated datePublished" datetime="2019-10-06T20:39:37+08:00">2019-10-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-23 00:39:44" itemprop="dateModified" datetime="2019-10-23T00:39:44+08:00">2019-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="c-中类的相关概念"><a href="#c-中类的相关概念" class="headerlink" title="c++中类的相关概念"></a>c++中类的相关概念</h2><h3 id="1-类的定义"><a href="#1-类的定义" class="headerlink" title="1. 类的定义"></a>1. 类的定义</h3><p>为什么类的定义后面一定要加“;”?</p>
<p>因为类后面是可以直接定义实例，但是并不建议这样定义，因为可读性比较差，变量最好单独定义。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad idea</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span><span class="comment">/*....*/</span>&#125; accum, trans, *saleptr;</span><br><span class="line"><span class="comment">// batter eay to define objects</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span><span class="comment">/*....*/</span>&#125;;</span><br><span class="line">Sales_data accum, trans, *saleptr;</span><br></pre></td></tr></table></figure>
<h3 id="2-变量的初始化"><a href="#2-变量的初始化" class="headerlink" title="2. 变量的初始化"></a>2. 变量的初始化</h3><p>变量后面直接跟着相应的数值成为初始化(initialize)，是变量刚开始创建的时候，给的一个值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以使用前面的定义</span></span><br><span class="line"><span class="keyword">double</span> price = <span class="number">109.9</span>, discount = price * <span class="number">0.26</span>;</span><br><span class="line"><span class="comment">// 也可以使用函数的结果赋值</span></span><br><span class="line"><span class="keyword">double</span> salePrice = applyDiscount(price, discount);</span><br></pre></td></tr></table></figure>
<p>c++中初始化（initialization）与赋值（assignment）是两个不同的概念，初始化是变量创建的时候发生的，赋值是值将变量的值替换。</p>
<p>初始化的方式有四种：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> units_sold = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">units_sold</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">int</span> units_sold = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> units_sold&#123;<span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>花括号的方式称为列表初始化，列表初始化，不会对字面量做转化。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int a&#123;3.14&#125;; // not allowed</span><br><span class="line">int a = 3.14 // ok; value will be trunked</span><br></pre></td></tr></table></figure>
<p>如果没有初始化，则会对变量进行默认初始化（default initializer）。</p>
<p>函数外部的变量会定义为0或空，函数内部的变量则不会进行初始化，未初始化的变量不能进行拷贝与访问内部成员。</p>
<ul>
<li><strong>类内的成员变量如果没有显式初始化，则进行默认初始化，字符串类型变量为空，整形初始化为0 （GCC编译器并非如此）</strong></li>
<li><strong>类内的成员变量初始化不允许‘（）’形式 </strong></li>
</ul>
<h3 id="3-struct与class的区别"><a href="#3-struct与class的区别" class="headerlink" title="3. struct与class的区别"></a>3. struct与class的区别</h3><p>struct与class的位移区别是默认访问权限的区别，如果所有成员都默认为public则用struct字段，如果默认为私有则用class。</p>
<p>public定义接口（interface）；</p>
<p>private封装（encapsulate）内部成员。</p>
<h3 id="4-构造函数"><a href="#4-构造函数" class="headerlink" title="4. 构造函数"></a>4. 构造函数</h3><p>构造函数是指与类名相同，没有返回类型，具有参数列表，可以重载的函数。</p>
<p>当且仅当没有定义构造函数，则内部成员变量会进行默认初始化（default initializer）和类内初始化器（in-class initializer），默认初始化在默认构造函数内进行。<strong>在gcc上没有复现</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"a is :"</span> &lt;&lt; a &lt;&lt; <span class="string">", b is :"</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    A a;</span><br><span class="line">    a.print();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">结果：a is :<span class="number">-704482032</span>, b is :<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>如果自定义构造函数，则所有的内部成员变量都在构造函数内进行初始化。<strong>也可以不用</strong></p>
<p>构造函数的几种写法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    A() = <span class="keyword">default</span>; <span class="comment">//默认构造函数</span></span><br><span class="line">    A(<span class="keyword">int</span> a) &#123;<span class="keyword">this</span>-&gt;a = a&#125;</span><br><span class="line">    A(<span class="keyword">int</span> a):a(a) &#123;&#125; <span class="comment">//初始化列表</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>默认构造函数、析构函数对使用了动态内存的程序并不有效。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/04/使用vscode调试WSL内的C-程序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/04/使用vscode调试WSL内的C-程序/" itemprop="url">
                  使用vscode调试WSL内的C++程序
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-04 16:27:43" itemprop="dateCreated datePublished" datetime="2019-10-04T16:27:43+08:00">2019-10-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-05 11:33:39" itemprop="dateModified" datetime="2019-10-05T11:33:39+08:00">2019-10-05</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="使用vscode调试WSL内的C-程序"><a href="#使用vscode调试WSL内的C-程序" class="headerlink" title="使用vscode调试WSL内的C++程序"></a>使用vscode调试WSL内的C++程序</h2><p>主要内容</p>
<ul>
<li>WSL配置</li>
<li>vscode配置</li>
</ul>
<h3 id="WSL配置"><a href="#WSL配置" class="headerlink" title="WSL配置"></a>WSL配置</h3><h4 id="安装C-编译环境"><a href="#安装C-编译环境" class="headerlink" title="安装C++编译环境"></a>安装C++编译环境</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install build-essential gdb</span><br></pre></td></tr></table></figure>
<p>查看build-essential的依赖，可以看出的，build-essential是打包了gcc、g++、make等编译环境的工具。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@DESKTOP-Q7IC13H:~/face_to_future<span class="comment"># apt-cache depends build-essential</span></span><br><span class="line">build-essential</span><br><span class="line"> |Depends: libc6-dev</span><br><span class="line">  Depends: &lt;libc-dev&gt;</span><br><span class="line">    libc6-dev</span><br><span class="line">  Depends: gcc</span><br><span class="line">  Depends: g++</span><br><span class="line">  Depends: make</span><br><span class="line">    make-guile</span><br><span class="line">  Depends: dpkg-dev</span><br></pre></td></tr></table></figure>
<p>那么gcc与g++是什么关系呢</p>
<blockquote>
<p>Several versions of the compiler (C, C++, Objective-C, Ada, Fortran, Java and treelang) are integrated; this is why we use the name “GNU Compiler Collection”. GCC can compile programs written in any of these languages. The Ada, Fortran, Java and treelang compilers are described in separate manuals.<br>“GCC” is a common shorthand term for the GNU Compiler Collection. This is both the most general name for the compiler, and the name used when the emphasis is on compiling C programs (as the abbreviation formerly stood for “GNU C Compiler”).<br>When referring to C++ compilation, it is usual to call the compiler “G++”. Since there is only one compiler, it is also accurate to call it “GCC” no matter what the language context; however, the term “G++” is more useful when the emphasis is on compiling C++ programs.<br>Similarly, when we talk about Ada compilation, we usually call the compiler “GNAT”, for the same reasons.<br>We use the name “GCC” to refer to the compilation system as a whole, and more specifically to the language-independent part of the compiler. For example, we refer to the optimization options as affecting the behavior of “GCC” or sometimes just “the compiler”.<br>Front ends for other languages, such as Mercury and Pascal exist but have not yet been integrated into GCC. These front ends, like that for C++, are built in subdirectories of GCC and link to it. The result is an integrated compiler that can compile programs written in C, C++, Objective-C, or any of the languages for which you have installed front ends.<br>In this manual, we only discuss the options for the C, Objective-C, and C++ compilers and those of the GCC core. Consult the documentation of the other front ends for the options to use when compiling programs written in other languages.<br>G++ is a compiler, not merely a preprocessor. G++ builds object code directly from your C++ program source. There is no intermediate C version of the program. (By contrast, for example, some other implementations use a program that generates a C program from your C++ source.) Avoiding an intermediate C representation of the program means that you get better object code, and better debugging information. The GNU debugger, GDB, works with this information in the object code to give you comprehensive C++ source-level editing capabilities (see C and C++ (Debugging with GDB)). </p>
</blockquote>
<p>用man gcc 和man g++ 出来的页面是一样的，摘抄两段</p>
<blockquote>
<p>gcc - GNU project C and C++ compiler.</p>
</blockquote>
<blockquote>
<p>The usual way to run GCC is to run the executable called gcc, or machine-gcc when cross-compiling, or machine-gcc-version to run a specific version of GCC.  When you compile C++ programs, you should invoke GCC as g++ instead.</p>
</blockquote>
<blockquote>
<p>C++ source files conventionally use one of the suffixes .C, .cc, .cpp, .CPP, .c++, .cp, or .cxx; C++ header files often use .hh, .hpp, .H, or (for shared template code) .tcc; and preprocessed C++ files use the suffix .ii.  GCC recognizes files with these names and compiles them as C++<br>programs even if you call the compiler the same way as for compiling C programs (usually with the name gcc).<br>However, the use of gcc does not add the C++ library.  g++ is a program that calls GCC and automatically specifies linking against the C++library.  It treats .c, .h and .i files as C++ source files instead of C source files unless -x is used.  This program is also useful when precompiling a C header file with a .h extension for use in C++ compilations.  On many systems, g++ is also installed with the name c++.</p>
</blockquote>
<p>总之c++最好用g++编译，gcc继承了除了c很多语言的编译器</p>
<h4 id="安装gdb"><a href="#安装gdb" class="headerlink" title="安装gdb"></a>安装gdb</h4><blockquote>
<p>the GNU debugger, c与c++的调试工具</p>
</blockquote>
<p>确认环境已配置正确<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis g++</span><br><span class="line">whereis gdb</span><br></pre></td></tr></table></figure></p>
<h3 id="vscode配置"><a href="#vscode配置" class="headerlink" title="vscode配置"></a>vscode配置</h3><p>.vscode 里面有三个文件需要配置</p>
<ul>
<li>c_cpp_properties.json (compiler path and IntelliSense settings)</li>
<li>tasks.json (build instructions)</li>
<li>launch.json (debugger settings)</li>
</ul>
<h4 id="c-c-环境配置"><a href="#c-c-环境配置" class="headerlink" title="c/c++环境配置"></a>c/c++环境配置</h4><p>按 Ctrl+Shift+P 命令行面板（Command Palette）<br>找到c/c++ Edit configurations(UI)，修改里面配置，会同步到c_cpp_properties.json里面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">complier path: /usr/bin/g++</span><br><span class="line">intelliSense mode: gcc-x64</span><br><span class="line">cStandard: c++17</span><br></pre></td></tr></table></figure></p>
<h4 id="编译环境配置"><a href="#编译环境配置" class="headerlink" title="编译环境配置"></a>编译环境配置</h4><p>在命令行面板内输入<code>task</code>，选择Tasks：Configure Default Build Task，创建一个tasks.json<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"2.0.0"</span>,</span><br><span class="line">  <span class="attr">"windows"</span>: &#123;</span><br><span class="line">    <span class="attr">"options"</span>: &#123;</span><br><span class="line">      <span class="attr">"shell"</span>: &#123;</span><br><span class="line">        <span class="attr">"executable"</span>: <span class="string">"bash.exe"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [<span class="string">"-c"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"tasks"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"build hello world on WSL"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"shell"</span>,</span><br><span class="line">      <span class="attr">"command"</span>: <span class="string">"g++"</span>,</span><br><span class="line">      <span class="attr">"args"</span>: [</span><br><span class="line">        <span class="string">"-g"</span>,</span><br><span class="line">        <span class="string">"-o"</span>,</span><br><span class="line">        <span class="string">"/home/&lt;your linux user name&gt;/projects/helloworld/helloworld.out"</span>,</span><br><span class="line">        <span class="string">"helloworld.cpp"</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"group"</span>: &#123;</span><br><span class="line">        <span class="attr">"kind"</span>: <span class="string">"build"</span>,</span><br><span class="line">        <span class="attr">"isDefault"</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="debug设置配置"><a href="#debug设置配置" class="headerlink" title="debug设置配置"></a>debug设置配置</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.2.0"</span>,</span><br><span class="line">  <span class="attr">"configurations"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"(gdb) Launch"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"cppdbg"</span>,</span><br><span class="line">      <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">      <span class="attr">"program"</span>: <span class="string">"/home/&lt;your Linux user name&gt;/projects/helloworld/helloworld.out"</span>,</span><br><span class="line">      <span class="attr">"args"</span>: [<span class="string">""</span>],</span><br><span class="line">      <span class="attr">"stopAtEntry"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"cwd"</span>: <span class="string">"/home/&lt;your Linux user name&gt;/projects/helloworld/"</span>,</span><br><span class="line">      <span class="attr">"environment"</span>: [],</span><br><span class="line">      <span class="attr">"externalConsole"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"windows"</span>: &#123;</span><br><span class="line">        <span class="attr">"MIMode"</span>: <span class="string">"gdb"</span>,</span><br><span class="line">        <span class="attr">"miDebuggerPath"</span>: <span class="string">"/usr/bin/gdb"</span>,</span><br><span class="line">        <span class="attr">"setupCommands"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"description"</span>: <span class="string">"Enable pretty-printing for gdb"</span>,</span><br><span class="line">            <span class="attr">"text"</span>: <span class="string">"-enable-pretty-printing"</span>,</span><br><span class="line">            <span class="attr">"ignoreFailures"</span>: <span class="literal">true</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"pipeTransport"</span>: &#123;</span><br><span class="line">        <span class="attr">"pipeCwd"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="attr">"pipeProgram"</span>: <span class="string">"c:\\windows\\sysnative\\bash.exe"</span>,</span><br><span class="line">        <span class="attr">"pipeArgs"</span>: [<span class="string">"-c"</span>],</span><br><span class="line">        <span class="attr">"debuggerPath"</span>: <span class="string">"/usr/bin/gdb"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"sourceFileMap"</span>: &#123;</span><br><span class="line">        <span class="attr">"/mnt/c"</span>: <span class="string">"$&#123;env:systemdrive&#125;/"</span>,</span><br><span class="line">        <span class="attr">"/usr"</span>: <span class="string">"C:\\Users\\&lt;path to WSL directory which you will place here later&gt;"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<p><a href="https://code.visualstudio.com/docs/cpp/config-wsl" target="_blank" rel="noopener">https://code.visualstudio.com/docs/cpp/config-wsl</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/24/hyperV虚拟archlinux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/24/hyperV虚拟archlinux/" itemprop="url">
                  hyperV虚拟archlinux
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-24 09:07:52 / 修改时间：10:19:43" itemprop="dateCreated datePublished" datetime="2018-09-24T09:07:52+08:00">2018-09-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>很久没有体验过archlinux了，archlinux是我用过最好用的linux。升级不用重装系统，而且系统完全可自己定制，对于我这种爱折腾的人来讲最合适不过。老电脑寄回家了，手里只有一部穷人版surface，硬盘太小，不舍得装双系统，就在hyperV里体验一下吧。</p>
<h3 id="1-Hyper-V"><a href="#1-Hyper-V" class="headerlink" title="1.Hyper-V"></a>1.Hyper-V</h3><p>Hyper-V 支持在物理主机上运行虚拟化的计算机系统。 可以像在物理计算机系统上一样使用和管理这些虚拟化的系统，但它们存在于虚拟化和隔离的环境中。 称为虚拟机监控程序的特殊软件可管理虚拟系统和物理硬件资源之间的访问权限。 虚拟化支持快速部署计算机系统、快速将系统还原为先前已知的良好状态的方法和在物理主机之间迁移系统的能力。</p>
<h4 id="虚拟化允许你："><a href="#虚拟化允许你：" class="headerlink" title="虚拟化允许你："></a>虚拟化允许你：</h4><ul>
<li>运行需要早期版本的 Windows 操作系统或非 Windows 操作系统的软件。</li>
<li>实验其他操作系统。 通过 Hyper-V，可轻松创建和删除不同的操作系统。</li>
<li>使用多个虚拟机在多个操作系统上测试软件。 通过 Hyper-V，可以在一部台式机或便携式计算机上运行所有内容。 可以将这些虚拟机导出并随后导入到任何其他 Hyper-V 系统中，包括 Azure。</li>
</ul>
<h4 id="一些限制限制："><a href="#一些限制限制：" class="headerlink" title="一些限制限制："></a>一些限制限制：</h4><ul>
<li>依赖于特定硬件的程序不能在虚拟机中良好运行。 例如，需要使用 GPU 进行处理的游戏或应用程序可能无法良好运行。 依赖于子 10 毫秒计时器的应用程序（如实时音乐混合应用程序或高精度时间）在虚拟机中运行时也可能会出问题。</li>
<li>此外，如果已启用了 Hyper-V，这些易受延迟影响的高精度应用程序在主机中运行时可能也会出问题。 这是因为在启用了虚拟化后，主机操作系统也会在 Hyper-V 虚拟化层的顶部运行，就如来宾操作系统那样。 但是，与来宾操作系统不同，主机操作系统在这点上很特殊，它是直接访问所有硬件，这意味着具有特殊硬件要求的应用程序仍然可以在主机操作系统中运行，而不会出问题。</li>
</ul>
<h4 id="开启Hyper-V"><a href="#开启Hyper-V" class="headerlink" title="开启Hyper-V:"></a>开启Hyper-V:</h4><ul>
<li>右键单击 Windows 按钮并选择“应用和功能”。</li>
<li>选择“打开或关闭 Windows 功能”。</li>
<li>选择 Hyper-V，然后单击确定。</li>
</ul>
<h4 id="新建虚拟机："><a href="#新建虚拟机：" class="headerlink" title="新建虚拟机："></a>新建虚拟机：</h4><ul>
<li>在装虚拟机之前需要新建一个虚拟交换机，用来连接网络。</li>
<li>新建一个虚拟机，连接上虚拟交换机，挂在archlinux的ISO文件，关闭安全启动就可以开始安装arch了</li>
</ul>
<h3 id="2-安装archlinux"><a href="#2-安装archlinux" class="headerlink" title="2.安装archlinux"></a>2.安装archlinux</h3><h5 id="进行联网"><a href="#进行联网" class="headerlink" title="进行联网"></a>进行联网</h5><p>执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># wifi-menu</span><br></pre></td></tr></table></figure></p>
<p>连接wifi<br>或者：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pppoe-setup</span><br></pre></td></tr></table></figure></p>
<p>进行配置或者：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl start adsl</span><br></pre></td></tr></table></figure></p>
<p>进行 adsl连接<br>连接完后，执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ping archhlinux.org</span><br></pre></td></tr></table></figure></p>
<p>或其他网址测试网络是否通</p>
<h4 id="同步时间"><a href="#同步时间" class="headerlink" title="同步时间"></a>同步时间</h4><p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># timedatectl set-ntp true</span><br></pre></td></tr></table></figure></p>
<h4 id="编辑镜像站文件"><a href="#编辑镜像站文件" class="headerlink" title="编辑镜像站文件"></a>编辑镜像站文件</h4><p>在镜像源网站加入中国的源例如清华tuna的、163的，放在mirrorlist的首行<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nano /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure></p>
<p>nano一些简单的命令：</p>
<ul>
<li>ALT+6: 复制</li>
<li>CTRL+U: 粘贴</li>
<li>CRTL+O: 写入文件</li>
<li>CRTL+X: 关闭文件</li>
</ul>
<p>执行ctrl+x退出，提示 是否保存，输入y，回车 保存<br>完成后执行，以同步软件仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -Syy</span><br></pre></td></tr></table></figure></p>
<h4 id="开始分区-UEFI-GPT"><a href="#开始分区-UEFI-GPT" class="headerlink" title="开始分区(UEFI+GPT)"></a>开始分区(UEFI+GPT)</h4><p>本次将为sda硬盘重新建立分区表，重新建立分区，数据会全部丢失.<br>分区方案：</p>
<table>
<thead>
<tr>
<th>分区</th>
<th>大小</th>
<th>挂载点</th>
</tr>
</thead>
<tbody>
<tr>
<td>sda1</td>
<td>200M</td>
<td>/mnt/boot/EFI</td>
</tr>
<tr>
<td>sda2</td>
<td>200M</td>
<td>/mnt/boot</td>
</tr>
<tr>
<td>sda3</td>
<td>20G</td>
<td>/mnt</td>
</tr>
<tr>
<td>sda4</td>
<td>10G</td>
<td>/mnt/home</td>
</tr>
</tbody>
</table>
<p>先查看下电脑硬盘设备，执行lsblk,如下图所示：(不同电脑设备不同，有可能会是 /dev/sdb……）<br>(有parted、fdisk两种分区方法，本次采用fdisk进行分区)</p>
<p>用fdisk进行分区<br>（1）建立GPT分区表<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># fdisk /dev/sda1</span><br></pre></td></tr></table></figure></p>
<p>不同电脑设备不同，有可能会是 /dev/sdb……）<br>进入fdisk交互界面：<br>输入:g 建立gpt分区表:<br>（2）建立分区<br>输入：n 添加一个分区</p>
<p>提示让输入开始扇区(一个扇区512B，按自己要分区容量大小进行计算)<br>输入2048,回车</p>
<p>让输入结束扇区，由于一个扇区512B，要创建200M的分区,应该输入：+200M；</p>
<p>（3）立第二个分区：<br>输入n;<br>回车<br>输入开始扇区: 回车 （默认开始扇区即可）<br>输入结束扇区:+200M</p>
<p>（4）建立第三个分区：<br>输入n;<br>回车<br>输入开始扇区:回车 （默认开始扇区即可）<br>输入结束扇区:直接回车(默认大那个数字)</p>
<p>（5）输入:w 保存并退出；<br>执行:lsblk 检验分区是否正确</p>
<h4 id="格式化分区，并挂载"><a href="#格式化分区，并挂载" class="headerlink" title="格式化分区，并挂载"></a>格式化分区，并挂载</h4><p>（1）格式化分区</p>
<p>执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.fat -F32 /dev/sda</span><br></pre></td></tr></table></figure></p>
<p>(格式化ESP分区)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.ext4 /dev/sda2</span><br></pre></td></tr></table></figure></p>
<p>(格式化boot分区)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.ext4 /dev/sda3</span><br></pre></td></tr></table></figure></p>
<p>(格式化根分区)</p>
<p>（2）挂载：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># mount /dev/sda3 /mnt</span><br><span class="line"># mkdir /mnt/boot</span><br><span class="line"># mount /dev/sda2 /mnt/boot</span><br><span class="line"># mkdir /mnt/boot/EFI</span><br><span class="line"># mount /dev/sda1 /mnt/boot/EFI</span><br></pre></td></tr></table></figure></p>
<p>执行lsblk查看挂载是否正确</p>
<h4 id="开始安装基本操作系统"><a href="#开始安装基本操作系统" class="headerlink" title="开始安装基本操作系统"></a>开始安装基本操作系统</h4><p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacstrap -i /mnt base base-devel1</span><br></pre></td></tr></table></figure></p>
<p>后开始安装</p>
<h4 id="配置基础系统"><a href="#配置基础系统" class="headerlink" title="配置基础系统"></a>配置基础系统</h4><p>（1）配置fstab</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure></p>
<p>最好再执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cat /mnt/etc/fstab</span><br></pre></td></tr></table></figure></p>
<p>检查一下<br>（2）切换到新系统</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># arch-chroot /mnt /bin/bash</span><br></pre></td></tr></table></figure></p>
<p>（3）进行本地语言设置</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nano /etc/locale.gen</span><br></pre></td></tr></table></figure></p>
<p>反注释（删掉前面的#）<br>en_US.UTF-8 UTF-8<br>zh_CN.UTF-8 UTF-8<br>这两个，退出保存<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># locale-gen</span><br></pre></td></tr></table></figure></p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure></p>
<p>（4）设置时区</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure></p>
<p>也可以执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># tzselect</span><br></pre></td></tr></table></figure></p>
<p>按照提示选择时区<br>执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># hwclock --systohc --utc</span><br></pre></td></tr></table></figure></p>
<p>设置硬件时间</p>
<h4 id="引导系统"><a href="#引导系统" class="headerlink" title="引导系统"></a>引导系统</h4><p>GRUB进行UEFI引导<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S dosfstools grub efibootmgr</span><br></pre></td></tr></table></figure></p>
<p>安装引导工具</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># grub-install --target=x86_64-efi --efi-directory=/boot/EFI --recheck</span><br></pre></td></tr></table></figure></p>
<p>进行安装grub</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure></p>
<p>进行配置grub</p>
<h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><p>（1）设置root密码</p>
<p>执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># passwd</span><br></pre></td></tr></table></figure></p>
<p>（2）添加用户</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># useradd -m -g users -s /bin/bash 用户名</span><br></pre></td></tr></table></figure></p>
<p>（务必添加一个 用户 ，否则后面sddm显示管理器登录的时候无法登录，sddm不会列出root用户）<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># passwd 用户名</span><br></pre></td></tr></table></figure></p>
<p>为刚才添加的用户设置密码<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nano /etc/sudoers</span><br></pre></td></tr></table></figure></p>
<p>在 root ALL=(ALL) ALL 下面添加<br>用户名 ALL=(ALL) ALL<br>为你刚才创建的用户 添加sudo权限</p>
<p>（3）退出chroot重启</p>
<p>（笔记本请直接跳到下面网络配置，安装无线网络相关模块）<br>(也可以不重启，直接进行下面的网络配置和桌面环境配置）<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># exit</span><br></pre></td></tr></table></figure></p>
<p>退出chroot<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br><span class="line">`</span><br></pre></td></tr></table></figure></p>
<p>重启电脑</p>
<h4 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h4><p>开机进入电脑<br>（1）有线连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable dhcpcd</span><br></pre></td></tr></table></figure></p>
<p>root下执行不了此命令，可以省略，执行完下面的命令一会重启会自动启动dhcpcd服务）<br>启动dhcpcd<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl start dhcpcd</span><br></pre></td></tr></table></figure></p>
<p>开机自动启动dhcp服务</p>
<p>（2）无线连接：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S iw wpa_supplicant dialog</span><br></pre></td></tr></table></figure></p>
<p>（3）ADSL 宽带连接：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S rp-pppoe# pppoe-setup # systemctl start adsl</span><br></pre></td></tr></table></figure></p>
<p>（chroot下执行不了此命令）# systemctl enable adsl</p>
<h4 id="按需定制化"><a href="#按需定制化" class="headerlink" title="按需定制化"></a>按需定制化</h4><p>安装桌面环境</p>
<p>（1）安装显卡驱动</p>
<p>确定显卡型号<br>执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># lspci | grep VGA</span><br></pre></td></tr></table></figure></p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S 驱动包</span><br></pre></td></tr></table></figure></p>
<p>官方仓库提供的驱动包:</p>
<p>通用———————————-xf86-video-vesa<br>intel———————————-xf86-video-intel<br>Geforce7+————————–xf86-video-nouveau<br>Geforce6/7————————-xf86-video-304xx<br>hyperV ————xf86-video-fbdev</p>
<p>（2）安装X窗口系统</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S xorg</span><br></pre></td></tr></table></figure></p>
<p>安装X窗口系统</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S xf86-input-synaptics1</span><br></pre></td></tr></table></figure></p>
<p>（触摸板驱动，笔记版可装，台式机就不用了）执行，虚拟机不需要<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S ttf-dejavu wqy-microhei1</span><br></pre></td></tr></table></figure></p>
<p>安装字体：Dejavu 和 微米黑字体（不安装的话 后面进入桌面环境设置系统语言为简体中文的时候会出现字体显示不全的问题）</p>
<p>（3）安装kde-plasma桌面环境</p>
<p>安装　Gnome桌面环境的直接跳到第(4)步<br>（kde和gnome桌面环境自带了大部分的驱动 ，安装其他桌面环境可能需要额外配置一些驱动，比如声卡）<br>想安装其他桌面环境 参照官方<a href="https://wiki.archlinux.org/index.php/Desktop_environment" target="_blank" rel="noopener">wiki</a><br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S plasma</span><br></pre></td></tr></table></figure></p>
<p>安装plasma</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S konsole</span><br></pre></td></tr></table></figure></p>
<p>安装 kde下的控制台终端</p>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S dolphin</span><br></pre></td></tr></table></figure>
<p>安装kde下的文件管理器<br>（可以直接执行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S kde-applications</span><br></pre></td></tr></table></figure>
<p>安装kde套件，包含了常用的系统工具）<br>安装完后<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable sddm</span><br></pre></td></tr></table></figure>
<p>启用 sddm显示管理器</p>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>
<p>启用网络管理</p>
<p>执行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S plasma-nm</span><br></pre></td></tr></table></figure>
<p>安装 网络管理的前端工具（图形界面）<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure>
<p>重启</p>
<p>进入系统后界面如下：</p>
<p>（4）安装Gnome桌面环境<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S gnome</span><br></pre></td></tr></table></figure>
<p>安装gnome桌面<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S gnome-tweak-tool</span><br></pre></td></tr></table></figure>
<p>安装gnome桌面优化工具<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S alacarte</span><br></pre></td></tr></table></figure>
<p>安装gnome桌面菜单编辑器<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable gdm</span><br></pre></td></tr></table></figure>
<p>启用gnome窗口管理器服务<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>
<p>启用网络管理器服务<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure>
<p>13.安装完后的工作</p>
<p>（1）添加archlinuxcn源（里面包含了很多中国人常用而官方仓库又没有的软件）</p>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nano /etc/pacman.conf1</span><br></pre></td></tr></table></figure>
<p>在 /etc/pacman.conf 文件末尾添加两行：</p>
<p>[archlinuxcn]<br>SigLevel=Never<br>Server = <a href="https://mirrors.ustc.edu.cn/archlinuxcn/$arch123" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/archlinuxcn/$arch123</a></p>
<p>（2）安装中文输入法<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S fcitx-im fcitx-configtool</span><br></pre></td></tr></table></figure>
<p>安装输入法引擎<br>（官方仓库里的输入法：<br>fcitx-cloudpinyin<br>fcitx-googlepinyin<br>fcitx-libpinyin<br>fcitx-sunpinyin）<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nano ~/.xprofile</span><br></pre></td></tr></table></figure>
<p>添加一下内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export GTK_IM_MODULE=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=&quot;@im=fcitx&quot;12345</span><br></pre></td></tr></table></figure></p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S fcitx-sogoupinyin</span><br></pre></td></tr></table></figure></p>
<p>安装搜狗输入法</p>
<p>（3）安装网易云音乐</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S netease-cloud-music</span><br></pre></td></tr></table></figure></p>
<p>安装网易云音乐</p>
<p>（4）安装yaourt使用aur</p>
<p>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S yaourt</span><br></pre></td></tr></table></figure></p>
<p>安装yarourt<br>以后可以使用yaourt 安装aur中的软件了 ，yaourt跟pacman使用方法一样<br>安装kde下的文件管理器<br>（5）安装浏览器<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S google-chrome</span><br></pre></td></tr></table></figure></p>
<p>安装google浏览器（没法在线观看视频）<br>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S firefox1</span><br></pre></td></tr></table></figure>
<p>安装火狐浏览器<br>（执行: # pacman -S flashplugin 安装flas插件，否则无法在线观看视频，chrome浏览器不支持flash）</p>
<p>（6）其他常用软件<br>可在<a href="https://wiki.archlinux.org/index.php/List_of_applications" target="_blank" rel="noopener">链接里找</a><br>进行查找</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/22/评价模型的一些指标/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/22/评价模型的一些指标/" itemprop="url">
                  评价模型的一些指标
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-22 20:53:27 / 修改时间：21:21:58" itemprop="dateCreated datePublished" datetime="2018-09-22T20:53:27+08:00">2018-09-22</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="衡量模型测试结果的指标"><a href="#衡量模型测试结果的指标" class="headerlink" title="衡量模型测试结果的指标"></a>衡量模型测试结果的指标</h2><p>在衡量训练好的模型预测结果有很多，如准确率、精确率、召回率等等。刚接触这些概念的时候，总是有点懵，因此留下此文，以备他日查看。</p>
<p>首先介绍一些概念(参考维基百科)：</p>
<hr>
<h4 id="准确率与精确率"><a href="#准确率与精确率" class="headerlink" title="准确率与精确率"></a>准确率与精确率</h4><p><strong>准确率(accuracy)</strong>是指被测量的测得值与其真值的一致程度；测量准确度有时被理解为赋予被测量的测得值之间的一致程度。<br><strong>精确率(precision)</strong>测量结果与被测量（约定）真值的一致程度。</p>
<p>好像走错片场了，这是测量的概念，在上科学仪器时学的，这里回顾一下</p>
<p><img src="/2018/09/22/评价模型的一些指标/p1.JPG" alt="P1"></p>
<h4 id="精确率与召回率"><a href="#精确率与召回率" class="headerlink" title="精确率与召回率"></a>精确率与召回率</h4><p><strong>precision </strong>(also called positive predictive value) is the fraction of relevant instances among the retrieved instances,</p>
<p><strong>recall</strong> (also known as sensitivity) is the fraction of relevant instances that have been retrieved over the total amount of relevant instances.</p>
<p><img src="/2018/09/22/评价模型的一些指标/p2.JPG" alt="P2"></p>
<p>以上图为例<br>精确率为：<br>$$  P = TP/(TP+FN)  $$<br>精确率是指预测正确的正类与预测的全部正类之比</p>
<p>召回率为：<br>$$  R = TP/(TP+FP)  $$<br>召回率，就是预测正确的正类与实际正类总数之比，FN是没预测出来的正类。<br>医院要求召回率要很高，假设确诊癌症为positive，本来是癌症却没诊断出癌症，那医术实在不敢恭维。</p>
<p>但常常精确率与召回率是互斥的，提高了精确率，召回率就低了，因此提出了F1 score<br>$$ F1 = 2PR/(P+R) $$</p>
<p>是不是很熟悉，像算电阻并联后的总电阻值，并联的电阻值小于任何一个电阻的值，但是两个一样的电阻，并联后只有一半大小，为了归一化，乘了一个2。F1值综合了P与R，只有都大时，F1才更大，单纯提高一个，效果可能不升反降。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/12/锦绣民俗村/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/12/锦绣民俗村/" itemprop="url">
                  锦绣民俗村
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-12 23:15:22" itemprop="dateCreated datePublished" datetime="2018-09-12T23:15:22+08:00">2018-09-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-09-22 20:58:17" itemprop="dateModified" datetime="2018-09-22T20:58:17+08:00">2018-09-22</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id=""><a href="#" class="headerlink" title=""></a><img src="/2018/09/12/锦绣民俗村/p1.jpg" alt="P1"></h2><hr>
<hr>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/12/python中的骚操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/12/python中的骚操作/" itemprop="url">
                  python中的骚操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-12 22:23:44" itemprop="dateCreated datePublished" datetime="2018-09-12T22:23:44+08:00">2018-09-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-09-22 21:44:14" itemprop="dateModified" datetime="2018-09-22T21:44:14+08:00">2018-09-22</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Python的魅力"><a href="#Python的魅力" class="headerlink" title="Python的魅力"></a>Python的魅力</h3><p>Python是一个给人持续惊喜的编程语言，在读python代码的时候，读着读着就会发现，python还可以这样使用。本文用来收集python 的奇葩语法的。</p>
<h4 id="1-lambda语法"><a href="#1-lambda语法" class="headerlink" title="1. lambda语法"></a>1. lambda语法</h4><p>lambda 是一行没有名字的函数，也称为匿名函数，在C++中也有这种语法。其具体用法为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lambda params:f(params)</span><br></pre></td></tr></table></figure></p>
<p>例如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">z = lambda x,y:(x+y)</span><br><span class="line">z(1,2) ==&gt;3</span><br></pre></td></tr></table></figure></p>
<p>还有一些其他特殊用法如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [(1,2),(5,6),(3,4),(6,2)]</span><br><span class="line">a.sort(key=lambda x:x[1])</span><br></pre></td></tr></table></figure></p>
<p>列表并行排序<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = zip(list1, list2)</span><br><span class="line">data = sorted(data)</span><br><span class="line">list1, list2 = map(lambda t: list(t), zip(*data))</span><br></pre></td></tr></table></figure></p>
<h4 id="2-b-if-c-else-d"><a href="#2-b-if-c-else-d" class="headerlink" title="2. b if c else d"></a>2. b if c else d</h4><p>相当于C++中 c?b:d,可用于任何判断一个表达式，而取两个值得情况<br>如:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ a = 46</span><br><span class="line">$ <span class="built_in">print</span>(a,<span class="string">"is"</span>,<span class="string">"even"</span> <span class="keyword">if</span> a%2==0 <span class="keyword">else</span> <span class="string">"odd"</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="3-a-b-for-in-range-c"><a href="#3-a-b-for-in-range-c" class="headerlink" title="3. a = [b for _ in range(c)]"></a>3. a = [b for _ in range(c)]</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> … <span class="keyword">in</span> … 产生的是一个generator,迭代生成一个列表，有趣的是可以与<span class="keyword">if</span> <span class="keyword">else</span>连用</span><br><span class="line">l1 = [1,3,2,-1,-2,-3]</span><br><span class="line">l2 = [x <span class="keyword">if</span> x &gt;0 <span class="keyword">else</span> 0 <span class="keyword">for</span> x <span class="keyword">in</span> l1]</span><br><span class="line">l2 = [1,3,2,0,0,0]</span><br></pre></td></tr></table></figure>
<h4 id="4-generator"><a href="#4-generator" class="headerlink" title="4.    generator"></a>4.    generator</h4><p><a href="http://python.jobbole.com/81911/" target="_blank" rel="noopener">深度剖析generator</a></p>
<h4 id="5-python定义的系统标识符"><a href="#5-python定义的系统标识符" class="headerlink" title="5.    python定义的系统标识符"></a>5.    python定义的系统标识符</h4><ul>
<li>5.1    Class1.__name__ # 类型名称 ‘Class1’</li>
<li>5.2    Class1.__module__ # 类型所在模块 ‘<strong>main</strong>‘</li>
<li>5.3    Class1.__bases__ # 类型所继承的基类 (<type 'object'="">,)</type></li>
<li>5.4    Class1.__dict__ # 类型字典，存储所有类型成员信息。 <dictproxy object="" at="" 0x00d3ad70=""></dictproxy></li>
<li>5.5    Class1().__class__ # 类型 <class '__main__.class1'=""></class></li>
<li>5.6    Class1().__module__ # 实例类型所在模块 ‘<strong>main</strong>‘</li>
<li>5.7    Class1().__dict__ # 对象字典，存储所有实例成员信息。 {‘i’: 1234}</li>
<li>5.8 __repr__ #名称的官方输出</li>
<li>5.9    __version__ 版本</li>
</ul>
<h4 id="6-init-py"><a href="#6-init-py" class="headerlink" title="6.    __init__.py"></a>6.    __init__.py</h4><p>放在文件夹内可以把文件夹名字作为类导入</p>
<h4 id="7-map"><a href="#7-map" class="headerlink" title="7. map"></a>7. map</h4><p>map会根据给定的<strong>函数</strong>对指定的<strong>序列</strong>做映射<br>map(function, iterable)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;def square(x) :            # 计算平方数</span><br><span class="line">...     return x ** 2</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; map(square, [1,2,3,4,5])   # 计算列表各个元素的平方</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line">&gt;&gt;&gt; map(lambda x: x ** 2, [1, 2, 3, 4, 5])  # 使用 lambda 匿名函数</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line"></span><br><span class="line"># 提供了两个列表，对相同位置的列表数据进行相加</span><br><span class="line">&gt;&gt;&gt; map(lambda x, y: x + y, [1, 3, 5, 7, 9], [2, 4, 6, 8, 10])</span><br><span class="line">[3, 7, 11, 15, 19]</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/10/初步了解正则表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Supo Zhang">
      <meta itemprop="description" content="I'm A man who constantly to pursue self-breakthrough and not satisfy current situation">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pandora's box">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/10/初步了解正则表达式/" itemprop="url">
                  初步了解正则表达式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-10 21:54:29 / 修改时间：22:22:45" itemprop="dateCreated datePublished" datetime="2018-09-10T21:54:29+08:00">2018-09-10</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="初步了解正则表达式"><a href="#初步了解正则表达式" class="headerlink" title="初步了解正则表达式"></a>初步了解正则表达式</h2><h3 id="什么是正则表达式"><a href="#什么是正则表达式" class="headerlink" title="什么是正则表达式"></a>什么是正则表达式</h3><p>正则表达式(regular expression), 英文可以简写为regex、regexp，由一系列字符组成，表达一种可以被搜索、匹配、替换、删除的模式。正则表达式是对字符串和特殊字符操作的一种逻辑，通过一些事先定义好的符号来表达一种模式。<br>正则表达式常应用于文本检索、数据处理等领域，以前在写爬虫的时候还有学linux shell的时候遇到过正则表达式，但从来没用真正弄懂什么是正则表达式。这一次系统学习一下，以下内容多源自百度百科或维基百科。</p>
<h3 id="理解元字符"><a href="#理解元字符" class="headerlink" title="理解元字符"></a>理解元字符</h3><table>
<thead>
<tr>
<th>元字符</th>
<th>描述</th>
<th>组别</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>将下一个字符标记符、或一个向后引用、或一个八进制转义符。例如，“\n”匹配\n。“\n”匹配换行符。</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>匹配输入字行首。如果设置了RegExp对象的Multiline属性，^也匹配“\n”或“\r”之后的位置。</td>
<td></td>
</tr>
<tr>
<td>$</td>
<td>匹配输入行尾。如果设置了RegExp对象的Multiline属性，$也匹配“\n”或“\r”之前的位置。</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>匹配前面的子表达式任意次。例如，zo<em>能匹配“z”，也能匹配“zo”以及“zoo”。</em>等价于{0,}。</td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的子表达式一次或多次(大于等于1次）。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。</td>
<td></td>
</tr>
<tr>
<td>?</td>
<td>匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“do”或“does”。?等价于{0,1}。</td>
<td></td>
</tr>
<tr>
<td>{n}</td>
<td>n是一个非负整数。匹配确定的n次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</td>
<td></td>
</tr>
<tr>
<td>{n,}</td>
<td>n是一个非负整数。至少匹配n次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o*”</td>
<td></td>
</tr>
<tr>
<td>{n,m}</td>
<td>m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次。例如，“o{1,3}”将匹配“fooooood”中的前三个o为一组，后三个o为一组。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格</td>
<td></td>
</tr>
<tr>
<td>?</td>
<td>当该字符紧跟在任何一个其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少地匹配所搜索的字符串，而默认的贪婪模式则尽可能多地匹配所搜索的字符串。例如，对于字符串“oooo”，“o+”将尽可能多地匹配“o”，得到结果[“oooo”]，而“o+?”将尽可能少地匹配“o”，得到结果 [‘o’, ‘o’, ‘o’, ‘o’]</td>
<td></td>
</tr>
<tr>
<td>.点</td>
<td>匹配除“\n”和”\r”之外的任何单个字符。要匹配包括“\n”和”\r”在内的任何字符，请使用像“[\s\S]”的模式。</td>
<td></td>
</tr>
<tr>
<td>(pattern)</td>
<td>匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“(”或“)”。</td>
<td></td>
</tr>
<tr>
<td>(?:pattern)</td>
<td>非获取匹配，匹配pattern但不获取匹配结果，不进行存储供以后使用。这在使用或字符“(&#124;)”来组合一个模式的各个部分时很有用。例如“industr(?:y&#124;ies)”就是一个比“industry&#124;industries”更简略的表达式。</td>
<td></td>
</tr>
<tr>
<td>(?=pattern)</td>
<td>非获取匹配，正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串，该匹配不需要获取供以后使用。例如，“Windows(?=95&#124;98&#124;NT&#124;2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</td>
<td></td>
</tr>
<tr>
<td>(?!pattern)</td>
<td>非获取匹配，正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串，该匹配不需要获取供以后使用。例如“Windows(?95&#124;98&#124;NT&#124;2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。</td>
<td></td>
</tr>
<tr>
<td>(?&lt;=pattern)</td>
<td>非获取匹配，反向肯定预查，与正向肯定预查类似，只是方向相反。例如，“(?&lt;=95&#124;98&#124;NT&#124;2000)Windows”能匹配“2000Windows”中的“Windows”，但不能匹配“3.1Windows”中的“Windows”。“(\?&lt;=95&#124;98&#124;NT&#124;2000)Windows”目前在python3.6中re模块测试会报错，用“&#124;”连接的字符串长度必须一样，这里“95&#124;98&#124;NT”的长度都是2，“2000”的长度是4，会报错。</td>
<td></td>
</tr>
<tr>
<td>(\?\&lt;!pattern)</td>
<td>非获取匹配，反向否定预查，与正向否定预查类似，只是方向相反。例如“(?&lt;&#124;95&#124;98&#124;NT&#124;2000)Windows”能匹配“3.1Windows”中的“Windows”，但不能匹配“2000Windows”中的“Windows”。这个地方不正确，有问题此处用或任意一项都不能超过2位，如“(?\&lt;95&#124;98&#124;NT&#124;2000)Windows正确，“(?\&lt;95&#124;98&#124;NT&#124;2000)Windows 报错，若是单独使用则无限制，如(?&lt;!2000)Windows 正确匹配。同上，这里在python3.6中re模块中字符串长度要一致，并不是一定为2，比如“(?\&lt;95&#124;98&#124;NT&#124;2000)Windows”也是可以的。</td>
<td></td>
</tr>
<tr>
<td>x&#124;y</td>
<td>匹配x或y。例如，“z&#124;food”能匹配“z”或“food”(此处请谨慎)。“[zf]ood”则匹配“zood”或“food”。</td>
<td></td>
</tr>
<tr>
<td>[xyz]</td>
<td>字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。</td>
<td></td>
</tr>
<tr>
<td>[^xyz]</td>
<td>负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“plin”。</td>
<td></td>
</tr>
<tr>
<td>[a-z]</td>
<td>字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。注意:只有连字符在字符组内部时,并且出现在两个字符之间时,才能表示字符的范围; 如果出字符组的开头,则只能表示连字符本身.</td>
<td></td>
</tr>
<tr>
<td>[^a-z]</td>
<td>负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符。</td>
<td></td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界，也就是指单词和空格间的位置（即正则表达式的“匹配”有两种概念，一种是匹配字符，一种是匹配位置，这里的\b就是匹配位置的）。例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。</td>
<td></td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界。“er\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。</td>
<td></td>
</tr>
<tr>
<td>\cx</td>
<td>匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。</td>
<td></td>
</tr>
<tr>
<td>\d</td>
<td>匹配一个数字字符。等价于[0-9]。grep 要加上-P，perl正则支持</td>
<td></td>
</tr>
<tr>
<td>\D</td>
<td>匹配一个非数字字符。等价于[^0-9]。grep要加上-P，perl正则支持</td>
<td></td>
</tr>
<tr>
<td>\f</td>
<td>匹配一个换页符。等价于\x0c和\cL。</td>
<td></td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符。等价于\x0a和\cJ。</td>
<td></td>
</tr>
<tr>
<td>\r</td>
<td>匹配一个回车符。等价于\x0d和\cM。</td>
<td></td>
</tr>
<tr>
<td>\s</td>
<td>匹配任何不可见字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。</td>
<td></td>
</tr>
<tr>
<td>\S</td>
<td>匹配任何可见字符。等价于[^ \f\n\r\t\v]。</td>
<td></td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个制表符。等价于\x09和\cI。</td>
<td></td>
</tr>
<tr>
<td>\v</td>
<td>匹配一个垂直制表符。等价于\x0b和\cK。</td>
<td></td>
</tr>
<tr>
<td>\w</td>
<td>匹配包括下划线的任何单词字符。类似但不等价于“[A-Za-z0-9_]”，这里的”单词”字符使用Unicode字符集。</td>
<td></td>
</tr>
<tr>
<td>\W</td>
<td>匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。</td>
<td></td>
</tr>
<tr>
<td>\xn</td>
<td>匹配n，其中n为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\x41”匹配“A”。“\x041”则等价于“\x04&amp;1”。正则表达式中可以使用ASCII编码。</td>
<td></td>
</tr>
<tr>
<td>\num</td>
<td>匹配num，其中num是一个正整数。对所获取的匹配的引用。例如，“(.)\1”匹配两个连续的相同字符。</td>
<td></td>
</tr>
<tr>
<td>\n</td>
<td>标识一个八进制转义值或一个向后引用。如果\n之前至少n个获取的子表达式，则n为向后引用。否则，如果n为八进制数字（0-7），则n为一个八进制转义值。</td>
<td></td>
</tr>
<tr>
<td>\nm</td>
<td>标识一个八进制转义值或一个向后引用。如果\nm之前至少有nm个获得子表达式，则nm为向后引用。如果\nm之前至少有n个获取，则n为一个后跟文字m的向后引用。如果前面的条件都不满足，若n和m均为八进制数字（0-7），则\nm将匹配八进制转义值nm。</td>
<td></td>
</tr>
<tr>
<td>\nml</td>
<td>如果n为八进制数字（0-7），且m和l均为八进制数字（0-7），则匹配八进制转义值nml。</td>
<td></td>
</tr>
<tr>
<td>\un</td>
<td>匹配n，其中n是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（\&copy;）。</td>
<td></td>
</tr>
<tr>
<td>\p{P}</td>
<td>小写 p 是 property 的意思，表示 Unicode 属性，用于 Unicode 正表达式的前缀。中括号内的“P”表示Unicode 字符集七个字符属性之一：标点字符。其他六个属性：L：字母；M：标记符号（一般不会单独出现）；Z：分隔符（比如空格、换行等）；S：符号（比如数学符号、货币符号等）；N：数字（比如阿拉伯数字、罗马数字等）；C：其他字符。*注：此语法部分语言不支持，例：javascript。</td>
<td></td>
</tr>
<tr>
<td>\&lt; ></td>
<td>匹配词（word）的开始（\&lt;）和结束（>）。例如正则表达式\&lt;the>能够匹配字符串”for the wise”中的”the”，但是不能匹配字符串”otherwise”中的”the”。注意：这个元字符不是所有的软件都支持的。</td>
<td></td>
</tr>
<tr>
<td>( )</td>
<td>将( 和 ) 之间的表达式定义为“组”（group），并且将匹配这个表达式的字符保存到一个临时区域（一个正则表达式中最多可以保存9个），它们可以用 \1 到\9 的符号来引用。</td>
<td></td>
</tr>
<tr>
<td>&#124;</td>
<td>将两个匹配条件进行逻辑“或”（Or）运算。例如正则表达式(him&#124;her) 匹配”it belongs to him”和”it belongs to her”，但是不能匹配”it belongs to them.”。注意：这个元字符不是所有的软件都支持的。</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="常见pattern"><a href="#常见pattern" class="headerlink" title="常见pattern"></a>常见pattern</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ (?&lt;=\.) &#123;2,&#125;(?=[A-Z])</span><br></pre></td></tr></table></figure>
<p>At least two spaces are matched, but only if they occur directly after a period (.) and before an uppercase letter.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Supo Zhang</p>
              <p class="site-description motion-element" itemprop="description">I'm A man who constantly to pursue self-breakthrough and not satisfy current situation</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Supo Zhang</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
